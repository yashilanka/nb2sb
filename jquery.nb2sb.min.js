!function(a){a.fn.nb2sb=function(b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r={selectors:{opener:void 0,content:void 0},settings:{dataName:"nb2sb",gap:64,animation:{duration:500,easing:"swing"},style:{width:500,padding:"1em"}},ajax:{}},s=a.extend(!0,r,b),t=this,u=a(s.selectors.opener),v=a(s.selectors.content),w=s.settings.dataName,x=s.settings.gap,y=s.settings.animation.duration,z=s.settings.animation.easing,A=s.settings.style,B=a(window).width(),C=0;return c=A.width>=B-x?B-x:A.width,d={minHeight:t.css("min-height"),backgroundColor:t.css("background-color"),zIndex:t.css("z-index")},e={position:"fixed",top:parseInt(d.minHeight),right:-c,bottom:0,zIndex:d.zIndex-1,maxWidth:c,backgroundColor:d.backgroundColor},a.extend(!0,i,e,A),h={width:"100%",height:"100%",overflow:"auto"},a("body").append("<div data-"+w+'="sidebar"><div data-'+w+'="sub-wrapper"></div></div>'),f=a("body").children().filter(function(){return"sidebar"===a(this).data(w)}),g=f.children().filter(function(){return"sub-wrapper"===a(this).data(w)}),f.css(i).hide(),f.css("width",c),g.css(h).append(v.html()),j=g.children(),k=j.prop("class"),j.removeClass(k).addClass("nav nav-pills nav-stacked nb2sb-active"),768>B?(v.hide(),f.show()):(v.show(),f.hide()),u.click(function(){m=f.outerWidth(),C++,l=function(a){return 0===a%2?!0:!1},n={right:0},o={right:-m},!1===l(C)?f.animate(n,{duration:y,easing:z}):!0===l(C)&&f.animate(o,{duration:y,easing:z})}),f.on("click","a",function(){m=f.outerWidth(),o={right:-m},f.animate(o,{duration:y,easing:z}),C=0}),a(window).resize(function(){q=a(window).width(),p=A.width>=q-x?q-x:A.width,o={right:-p},f.css("max-width",p),768>q?(v.hide(),f.show()):(v.show(),f.hide().animate(o,{duration:y,easing:z,complete:function(){C=0}}))}),this}}(jQuery);